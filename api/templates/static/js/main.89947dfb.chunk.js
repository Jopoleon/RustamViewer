(this.webpackJsonpegor=this.webpackJsonpegor||[]).push([[0],{174:function(e,t,a){e.exports=a(208)},208:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a(8),i=a(52),o=a(20),s=a(19),u=a(281),m=a(11),p=a.n(m),d=a(18),g=a(286),b=a(16),f=a.n(b),E="http://127.0.0.1:8899",v={setUserData:Object(g.a)("LOGIN"),authenticateUser:Object(g.a)("AUTHENTICATE_USER"),logout:Object(g.a)("USER_LOGOUT"),initAuth:Object(g.a)("INIT_AUTH")};var h=v,j={login:Object(g.a)("LOGIN"),startLoggingIn:Object(g.a)("CHANGE LOADING STATE"),setLoadingError:Object(g.a)("SET LOADING ERROR")};function O(){return function(){var e=Object(d.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(E,"/logout"),{withCredentials:!0});case 3:e.sent,e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:t(h.logout());case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()}var y,x,w=j,C=Object(u.a)((y={},Object(o.a)(y,w.startLoggingIn,(function(e){return Object(s.a)({},e,{isLoadingLogging:!0,errorWhenLogging:!1,errorMessage:""})})),Object(o.a)(y,w.setLoadingError,(function(e,t){var a=t.payload,n=a.isError,r=a.message;return Object(s.a)({},e,{isLoadingLogging:!1,errorWhenLogging:n,errorMessage:r||""})})),y),{isLoadingLogging:!1,errorWhenLogging:!1,errorMessage:""}),k={isLoggedIn:!1,firstName:"",lastName:"",isAdmin:!1,initAuth:!1},N=Object(u.a)((x={},Object(o.a)(x,h.initAuth,(function(e){return Object(s.a)({},e,{initAuth:!0})})),Object(o.a)(x,h.logout,(function(){return Object(s.a)({},k,{initAuth:!0})})),Object(o.a)(x,h.setUserData,(function(e,t){return Object(s.a)({},e,{},t.payload,{isLoggedIn:!0})})),x),k),L="calls",S="callsout",_="vars",D="ars",I={setInitData:Object(g.a)("Set_init_Data"),setLoading:Object(g.a)("setLoading")};var T,R=I,P={initData:{},searchField:"",filterList:[],currentTable:L,projectId:"",loading:!0},A=Object(u.a)((T={},Object(o.a)(T,R.setLoading,(function(e,t){return Object(s.a)({},e,{loading:t.payload})})),Object(o.a)(T,R.setInitData,(function(e,t){var a=t.payload,n=a.tableName,r=a.response;return Object(s.a)({},e,{loading:!1,initData:Object(s.a)({},e.initData,Object(o.a)({},n,r))})})),T),P),B={startLoading:Object(g.a)("START_LOADING_PROFILE"),setProfileData:Object(g.a)("SET_PROFILE_DATA")};var W,U=B,F=Object(u.a)((W={},Object(o.a)(W,U.startLoading,(function(e){return Object(s.a)({},e,{userData:{},isDataLoaded:!1,isDataLoading:!0})})),Object(o.a)(W,U.setProfileData,(function(e,t){return Object(s.a)({},e,{userData:t.payload.user,companyData:t.payload.companies,isError:!1,isDataLoaded:!0,isDataLoading:!1})})),W),{isDataLoaded:!1,isDataLoading:!1,isError:!1,userData:{},companyData:{}}),z={setCompanies:Object(g.a)("SET_COMPANIES"),setLoading:Object(g.a)("SET_COMPANIES_LOADING")};function M(){return function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(z.setLoading(!0)),e.next=3,f.a.get("".concat(E,"/companies"),{withCredentials:!0});case 3:n=e.sent,t(z.setCompanies(n.data.companies));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}var G,H=z,q=Object(u.a)((G={},Object(o.a)(G,H.setCompanies,(function(e,t){return Object(s.a)({},e,{companies:t.payload,isDataLoaded:!0,isDataLoading:!1})})),Object(o.a)(G,H.setLoading,(function(e,t){return Object(s.a)({},e,{isDataLoading:t.payload})})),G),{companies:[],isDataLoaded:!1,isDataLoading:!1}),J=Object(i.c)({appReducer:N,loginReducer:C,tablesReducer:A,profileReducer:F,companiesReducer:q}),K=a(155),V=a(28),Y=a(50),Q=a(7),X=a(287),Z=a(257),$=a(252),ee=a(288),te=a(249),ae=a(156),ne=a(280),re=a(251),ce=a(128),le=a.n(ce),ie=a(64),oe=a(250),se=a(258),ue=a(91);function me(){return r.a.createElement(ie.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(te.a,{color:"inherit",href:"https://material-ui.com/"},"ForteCom")," ",(new Date).getFullYear(),".")}var pe=Object(oe.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://cutewallpaper.org/21/wallpapers-with-numbers/Mathematics-HD-Desktop-Wallpapers-PixelsTalk.Net.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submitButtonWrapper:{margin:e.spacing(1),position:"relative"},submitButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-8,marginLeft:-12},submit:{margin:e.spacing(3,0,2)},errorText:{color:ue.a[500]}}}));function de(){var e=pe(),t=Object(l.b)(),a=Object(l.c)((function(e){return e.loginReducer})),c=a.isLoadingLogging,i=a.errorWhenLogging,o=a.errorMessage,s=Object(l.c)((function(e){return e.appReducer})).isLoggedIn,u=Object(Y.g)();Object(n.useEffect)((function(){s&&u.push("/")}),[s]);var m=Object(n.useState)(""),g=Object(Q.a)(m,2),b=g[0],v=g[1],O=Object(n.useState)(""),y=Object(Q.a)(O,2),x=y[0],w=y[1];return r.a.createElement(re.a,{container:!0,component:"main",className:e.root},r.a.createElement($.a,null),r.a.createElement(re.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),r.a.createElement(re.a,{item:!0,xs:12,sm:8,md:5,component:ae.a,elevation:6,square:!0},r.a.createElement("div",{className:e.paper},r.a.createElement(X.a,{className:e.avatar},r.a.createElement(le.a,null)),r.a.createElement(ie.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),t(function(e,t){return function(){var a=Object(d.a)(p.a.mark((function a(n,r){var c,l;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(e.length>0&&t.length>0)){a.next=16;break}return n(j.startLoggingIn()),a.prev=2,a.next=5,f.a.post("".concat(E,"/login"),{email:e,password:t},{withCredentials:!0});case 5:return c=a.sent,l=c.data,a.next=9,n(h.setUserData({firstName:l.first_name,lastName:l.second_name,isAdmin:l.is_admin}));case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),n(j.setLoadingError({isError:!0,message:"Username is not correct"}));case 14:a.next=17;break;case 16:n(j.setLoadingError({isError:!0,message:"Username and Password should be not empty"}));case 17:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(b,x))}},r.a.createElement(ee.a,{value:b,onChange:function(e){return v(e.target.value)},variant:"outlined",margin:"normal",fullWidth:!0,label:"User Name",autoFocus:!0}),r.a.createElement(ee.a,{value:x,onChange:function(e){return w(e.target.value)},variant:"outlined",margin:"normal",fullWidth:!0,name:"password",label:"Password",type:"password",id:"password"}),i&&r.a.createElement(re.a,{container:!0},r.a.createElement(re.a,{item:!0,xs:!0},r.a.createElement(ie.a,{component:"h1",variant:"h5",className:e.errorText},o))),r.a.createElement("div",{className:e.submitButtonWrapper},r.a.createElement(Z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:c},c?r.a.createElement("span",null,"\xa0\xa0"):"Sign in"),c&&r.a.createElement(se.a,{size:24,className:e.submitButtonProgress})),r.a.createElement(ne.a,{mt:5},r.a.createElement(me,null))))))}var ge=a(129),be=a(102),fe=a(262),Ee=a(265),ve=a(259),he=a(261),je=a(263),Oe=a(264),ye=a(266),xe=a(285),we=a(269),Ce=a(88),ke=a.n(Ce),Ne=a(134),Le=a.n(Ne),Se=a(291),_e=a(260),De=a(135),Ie=a.n(De),Te=a(136),Re=a.n(Te),Pe=a(137),Ae=a.n(Pe),Be=a(138),We=a.n(Be),Ue=a(130),Fe=a.n(Ue),ze=a(133),Me=a.n(ze),Ge=a(131),He=a.n(Ge),qe=a(132),Je=a.n(qe),Ke=a(34),Ve=a.n(Ke);function Ye(e){var t=Object(n.useState)(!1),a=Object(Q.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),o=Object(Q.a)(i,2),s=o[0],u=o[1],m=e.width||200;return r.a.createElement(ve.a,null,r.a.createElement("div",{style:{width:m}},r.a.createElement("div",{style:Xe.rowHeader},"up"===e.sortBy&&r.a.createElement(He.a,{onClick:function(){return e.toggleSort()},style:{cursor:"pointer"}}),"down"===e.sortBy&&r.a.createElement(Je.a,{onClick:function(){return e.toggleSort()},style:{cursor:"pointer"}}),!e.sortBy&&r.a.createElement(Me.a,{onClick:function(){return e.toggleSort()},style:{cursor:"pointer"}}),r.a.createElement("span",{style:{width:"100%"}},e.title),r.a.createElement(Le.a,{onClick:function(){return l(!c)},style:{cursor:"pointer"}})),c&&r.a.createElement(ee.a,{helperText:"Filter",value:s,onChange:function(e){return u(e.target.value)},onKeyPress:function(t){return"Enter"===t.key&&e.addFilter(s)}})))}function Qe(e){var t=e.count,a=e.page,n=e.rowsPerPage,c=e.onChangePage;return r.a.createElement("div",{style:{flexShrink:0,marginLeft:10}},r.a.createElement(_e.a,{onClick:function(e){c(e,0)},disabled:0===a,"aria-label":"first page"},r.a.createElement(Ie.a,null)),r.a.createElement(_e.a,{onClick:function(e){c(e,a-1)},disabled:0===a,"aria-label":"previous page"},r.a.createElement(Re.a,null)),r.a.createElement(_e.a,{onClick:function(e){c(e,a+1)},disabled:a>=Math.ceil(t/n)-1,"aria-label":"next page"},r.a.createElement(Ae.a,null)),r.a.createElement(_e.a,{onClick:function(e){c(e,Math.max(0,Math.ceil(t/n)-1))},disabled:a>=Math.ceil(t/n)-1,"aria-label":"last page"},r.a.createElement(We.a,null)))}var Xe={rowHeader:{display:"flex",justifyContent:"space-between",alignItems:"center"}},Ze=function(e){var t=Object(n.useState)([]),a=Object(Q.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)([]),o=Object(Q.a)(i,2),u=o[0],m=o[1],p=Object(n.useState)([]),d=Object(Q.a)(p,2),g=d[0],b=d[1],v=Object(n.useState)(!1),h=Object(Q.a)(v,2),j=h[0],O=h[1],y=Object(n.useState)(!1),x=Object(Q.a)(y,2),w=x[0],C=x[1],k=Object(n.useState)({}),N=Object(Q.a)(k,2),L=N[0],S=N[1],_=Object(n.useState)(""),D=Object(Q.a)(_,2),I=D[0],T=D[1],R=Object(n.useState)(0),P=Object(Q.a)(R,2),A=P[0],B=P[1],W=Object(n.useState)(25),U=Object(Q.a)(W,2),F=U[0],z=U[1],M=Object(n.useState)([]),G=Object(Q.a)(M,2),H=G[0],q=G[1],J=Object(n.useState)(0),K=Object(Q.a)(J,2),V=K[0],X=K[1],Z=Object(n.useState)(!1),$=Object(Q.a)(Z,2),te=$[0],ne=$[1],re=Object(n.useState)({}),ce=Object(Q.a)(re,2),le=ce[0],oe=ce[1],se=new URLSearchParams(Object(Y.h)().search),ue=Object(Y.g)(),me=function(e){var t=Object(s.a)({},le);delete t[e],oe(t)},pe=function(e,t){B(t)},de=function(e){z(parseInt(e.target.value,10)),B(0)};return Object(n.useEffect)((function(){f.a.get(e.url,{method:"get",withCredentials:!0}).then((function(t){t.data?t.data.length>0&&(b(Object.keys(e.keys)),m(t.data),l(t.data),X(t.data.length)):C(!0),O(!0);var a=se.get("callid");a&&oe({callid:a})})).catch((function(e){C(!0),O(!0)}))}),[]),Object(n.useEffect)((function(){ne(!0);var e=Object(be.a)(c);""!==I&&(e=c.filter((function(e){return Object.values(e).some((function(e){return!!e&&e.toString().toLowerCase().includes(I.toLowerCase())}))})));var t=Object(be.a)(e);Object.keys(le).map((function(e){t=t.filter((function(t){return t[e].toString()===le[e]}))})),L.key&&(t="up"===L.direction?t.sort((function(e,t){return(""+e[L.key]).localeCompare(""+t[L.key],void 0,{numeric:!0,sensitivity:"base"})})):t.sort((function(e,t){return(""+t[L.key]).localeCompare(""+e[L.key],void 0,{numeric:!0,sensitivity:"base"})}))),m(t),X(t.length),ne(!1)}),[le,I,L]),Object(n.useEffect)((function(){q(u.slice(A*F,A*F+F))}),[A,F,u]),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(ee.a,{id:"standard-search",label:"Search field",type:"search",style:{width:"200px",margin:"10px 0px 0px 10px"},autocomplete:"off",InputProps:{startAdornment:r.a.createElement(we.a,{position:"start"},r.a.createElement(ke.a,null))},onKeyPress:function(e){return"Enter"===e.key&&T(e.target.value)}}),r.a.createElement("div",{style:{margin:"10px 0px 0px 10px",display:"flex"}},Object.keys(le).map((function(e){return r.a.createElement(Se.a,{label:"".concat(e,": ").concat(le[e]),style:{margin:5}})}))),r.a.createElement(ie.a,{style:{margin:"10px 0px 0px 10px"}},L.key?"Sort by ".concat(L.key," : ").concat("up"===L.direction?"desc":"asc"):r.a.createElement("span",null,"\xa0\xa0")),r.a.createElement(Fe.a,{data:H,filename:"".concat(e.url.slice(e.url.lastIndexOf("/")+1),".csv"),style:{borderRadius:"6px",border:"1px solid black",fontSize:"15px",fontWeight:"bold",padding:"6px 14px",textDecoration:"none",cursor:"pointer",width:"150px",margin:10}},"Export to CSV"),!j||te?r.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(Ve.a,{loading:!0})):j&&w?r.a.createElement("span",null,"Error"):r.a.createElement(he.a,{component:ae.a},r.a.createElement(fe.a,null,r.a.createElement(je.a,null,r.a.createElement(Oe.a,null,g.map((function(t){return r.a.createElement(Ye,{title:e.keys[t].name.toUpperCase(),addFilter:function(e){return function(e,t){if(""===t)return me(e);var a=Object(s.a)({},le);a[e]=t,oe(a)}(t,e)},toggleSort:function(){return function(e){L.key!==e?S({key:e,direction:"up"}):"up"===L.direction?S({key:e,direction:"down"}):S({})}(t)},sortBy:L.key===t?L.direction:null})})))),r.a.createElement(Ee.a,null,H.map((function(t){return r.a.createElement(Oe.a,{key:t.id},g.map((function(a){return r.a.createElement(ve.a,{onClick:function(){return"callid"===a&&e.nextUrl&&ue.push("tables/?table=".concat(e.nextUrl,"&callid=").concat(t[a]))},style:{cursor:"callid"===a&&e.nextUrl?"pointer":"auto"}},"waverecord"===a?r.a.createElement("div",{style:{minWidth:300,width:"100%",textAlign:"center"}},r.a.createElement("audio",{controls:!0,preload:"none"},r.a.createElement("source",{src:"".concat(E,"/waverecord/").concat(t.id),type:"audio/wav"}))):t[a])})))}))),r.a.createElement(ye.a,null,r.a.createElement(Oe.a,null,r.a.createElement(xe.a,{rowsPerPageOptions:[5,25,100,200],colSpan:3,count:V,rowsPerPage:F,page:A,onChangePage:pe,onChangeRowsPerPage:de,ActionsComponent:Qe}))))))},$e=a(139);a(207);function et(){var e=Object(ge.a)(["\n  && {\n    margin-right: 10px;\n  }\n"]);return et=function(){return e},e}var tt={callsout:1,calls:2,vars:3,ars:4};function at(){var e=new URLSearchParams(Object(Y.h)().search),t=tt[e.get("table")];console.log(t);var a=Object(n.useState)(t||2),c=Object(Q.a)(a,2),i=c[0],o=c[1],s=(Object(l.b)(),Object(Y.g)());return Object(n.useEffect)((function(){o(t||1)}),[t]),r.a.createElement("div",{style:{padding:10}},r.a.createElement(ie.a,{variant:"h6"},"\u041e\u0422\u0427\u0415\u0422\u042b"),r.a.createElement("div",{style:{display:"flex",marginTop:10}},r.a.createElement(nt,{variant:"contained",onClick:function(){s.push("/tables?table=callsout")},color:1===i?"primary":"auto"},"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0437\u0432\u043e\u043d\u043a\u0438"),r.a.createElement(nt,{variant:"contained",onClick:function(){s.push("/tables?table=calls")},color:2===i?"primary":"auto"},"\u0412\u0441\u0435 \u0437\u0432\u043e\u043d\u043a\u0438"),r.a.createElement(nt,{variant:"contained",onClick:function(){s.push("/tables?table=vars")},color:3===i?"primary":"auto"},"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u044b\u0435 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438"),r.a.createElement(nt,{variant:"contained",onClick:function(){s.push("/tables?table=ars")},color:4===i?"primary":"auto"},"\u0420\u0430\u0441\u043f\u043e\u0437\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0438\u0430\u043b\u043e\u0433\u0430")),1===i&&r.a.createElement(Ze,{url:"".concat(E,"/callsout"),tableName:S,nextUrl:"calls",keys:rt}),2===i&&r.a.createElement(Ze,{url:"".concat(E,"/calls"),tableName:L,nextUrl:"vars",keys:ct}),3===i&&r.a.createElement(Ze,{url:"".concat(E,"/vars"),tableName:D,nextUrl:"ars",keys:lt}),4===i&&r.a.createElement(Ze,{url:"".concat(E,"/ars"),tableName:_,keys:it}))}var nt=Object($e.a)(Z.a)(et()),rt={contact_attempt_fact_key:{name:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u0441\u043a\u0430\u0442\u043e\u0440"},contact_info:{name:"\u043d\u043e\u043c\u0435\u0440 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"},dialing_mode:{name:"\u0440\u0435\u0436\u0438\u043c \u0437\u0432\u043e\u043d\u043a\u0430"},campaing:{name:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438"},call_result:{name:"\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0437\u0432\u043e\u043d\u043a\u0430"},record_type:{name:"\u0442\u0438\u043f \u0437\u0430\u043f\u0438\u0441\u0438"},record_status:{name:"\u0441\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043f\u0438\u0441\u0438"},calling_list:{name:"\u043b\u0438\u0441\u0442 \u043e\u0431\u0437\u043e\u0432\u043d\u0430"},contact_info_type:{name:"\u0442\u0438\u043f \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430\t"},callid:{name:"callid"},start_time:{name:"\u043d\u0430\u0447\u0430\u043b\u043e \u0437\u0432\u043e\u043d\u043a\u0430\t"},end_time:{name:"\u043e\u043d\u0435\u0446 \u0437\u0432\u043e\u043d\u043a\u0430"},record_id:{name:"id \u0437\u0430\u043f\u0438\u0441\u0438"},chain_id:{name:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0446\u0435\u043f\u043e\u0447\u043a\u0438"},chain_n:{name:"\u043d\u043e\u043c\u0435\u0440 \u0432 \u0446\u0435\u043f\u043e\u0447\u043a\u0438"},attempt:{name:"\u043a\u043e\u043b\u0432\u043e \u043f\u043e\u043f\u044b\u0442\u043e\u043a"},daily_from:{name:"\u0437\u0432\u043e\u043d\u043e\u043a \u0441"},daily_till:{name:"\u0437\u0432\u043e\u043d\u043e\u043a \u043f\u043e "},dial_sched_time:{name:"\u0432\u0440\u0435\u043c\u044f \u043f\u0435\u0440\u0435\u0437\u0432\u043e\u043d\u0430"},project_id:{name:"\u043f\u0440\u043e\u043a\u0442"},customer_data:{name:"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}},ct={interaction_id:{name:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440"},source_address:{name:"\u0410\u041e\u041d"},target_address:{name:"\u041d\u043e\u043c\u0435\u0440 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"},interaction_type:{name:"\u0422\u0438\u043f\u0430 \u0437\u0432\u043e\u043d\u043a\u0430"},start_time:{name:"\u041d\u0430\u0447\u0430\u043b\u043e \u0437\u0432\u043e\u043d\u043a\u0430"},end_time:{name:"\u041a\u043e\u043d\u0435\u0446 \u0437\u0432\u043e\u043d\u043a\u0430"},project_id:{name:"\u043f\u0440\u043e\u0435\u043a\u0442"},customer_data:{name:"\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},callid:{name:"callid"}},lt={project_id:{name:"\u043f\u0440\u043e\u0435\u043a\u0442"},menu_name:{name:"\u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e"},ani:{name:"\u0410\u041e\u041d"},callid:{name:"CALLID"},seq:{name:"\u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"},action_status:{name:"\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435"},action_description:{name:"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"},enter_menu_time:{name:"\u0432\u0435\u0440\u043c\u044f \u0432\u0445\u043e\u0434\u0430 \u0432 \u043c\u0435\u043d\u044e"},leave_menu_time:{name:"\u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0445\u043e\u0434\u0430 \u0438\u0437 \u043c\u0435\u043d\u044e"},action_time:{name:"\u0432\u0440\u0435\u043c\u044f \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}},it={project_id:{name:"\u043f\u0440\u043e\u0435\u043a\u0442"},menu_name:{name:"\u043f\u0443\u043d\u043a\u0442 \u043c\u0435\u043d\u044e"},ani:{name:"\u0410\u041e\u041d"},callid:{name:"CALLID"},seq:{name:"\u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c"},utterance:{name:"\u043f\u0440\u043e\u0438\u0437\u043d\u0435\u0441\u0435\u043d\u043d\u0430\u044f \u0444\u0440\u0430\u0437\u0430"},interpretation:{name:"\u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0446\u0438\u044f"},confidence:{name:"\u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c"},inputmode:{name:"\u0440\u0435\u0436\u0438\u043c \u0432\u0432\u043e\u0434\u0430"},waverecord:{name:"\u043f\u0440\u043e\u0441\u043b\u0443\u0448\u0430\u0442\u044c \u0444\u0440\u0430\u0437\u0443"}},ot=a(273),st=a(270),ut=a(271),mt=a(272),pt=a(142),dt=a.n(pt),gt=a(141),bt=a.n(gt),ft=a(143),Et=a.n(ft),vt=a(89),ht=a.n(vt),jt=a(255),Ot=a(289),yt=a(282),xt=a(267),wt=Object(oe.a)({root:{minWidth:200,margin:"10px 0px 10px 10px"},media:{height:140}});function Ct(e){var t=e.projectName,a=void 0===t?"\u041d\u0430\u0446\u041f\u0440\u043e\u0435\u043a\u0442":t,c=e.projectId,i=void 0===c?1:c,o=e.searchText,s=void 0===o?"":o,u=e.isSearching,m=void 0!==u&&u,g=e.userCount,b=void 0===g?0:g,v=e.allUsers,h=void 0===v?[]:v,j=e.currentUsers,O=void 0===j?[]:j,y=Object(n.useState)(!1),x=Object(Q.a)(y,2),w=x[0],C=x[1],k=Object(n.useState)(-1),N=Object(Q.a)(k,2),L=N[0],S=N[1],_=Object(n.useState)(!1),D=Object(Q.a)(_,2),I=D[0],T=D[1],R=Object(l.b)(),P=wt(),A=a&&m&&a.toLowerCase().includes(s.toLowerCase())?"wheat":"white",B=h.filter((function(e){return O.every((function(t){return t.id!==e.id}))}));return r.a.createElement(st.a,{className:P.root,style:{backgroundColor:A,width:"100%"},disabled:!0},r.a.createElement(ut.a,null,r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement(ie.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),b>0&&r.a.createElement(mt.a,{badgeContent:b,style:{paddingBottom:8,marginLeft:10}},r.a.createElement(ht.a,null))),r.a.createElement(ot.a,null),r.a.createElement(Z.a,{style:{width:"100%"},onClick:function(){return C(!w)}},w?r.a.createElement(bt.a,null):r.a.createElement(dt.a,null)),w&&r.a.createElement(r.a.Fragment,null,B.length>0&&r.a.createElement("div",{style:{display:"flex",margin:"20px 0px"}},r.a.createElement(jt.a,{style:{width:200},variant:"filled"},r.a.createElement(Ot.a,null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"),r.a.createElement(yt.a,{value:L,onChange:function(e){return S(e.target.value)},style:{height:50}},B.map((function(e){return r.a.createElement(xt.a,{value:e.id},e.firstName||""," ",e.secondName||""," (",e.login||"",")")})))),r.a.createElement(Z.a,{variant:"contained",style:{margin:"10px 0px 10px 5px",backgroundColor:"#6ccf70"},disabled:!L||-1===L,onClick:Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.find((function(e){return e.id===L})),e.prev=1,T(!0),e.next=5,f.a.post("".concat(E,"/projects/").concat(L),{project_id:i,project_name:a,user_id:L,user_full_name:"".concat(t.firstName," ").concat(t.secondName," (").concat(t.login,")")},{withCredentials:!0});case 5:R(M());case 6:return e.prev=6,T(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[1,,6,9]])})))},I?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")),r.a.createElement(he.a,{component:ae.a},r.a.createElement(fe.a,null,r.a.createElement(je.a,null,r.a.createElement(Oe.a,null,r.a.createElement(ve.a,null,"\u0418\u043c\u044f"),r.a.createElement(ve.a,null,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.a.createElement(ve.a,null,"Email"),r.a.createElement(ve.a,null,"\u041b\u043e\u0433\u0438\u043d"),r.a.createElement(ve.a,{align:"right"},"\u0423\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438\u0437 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"))),r.a.createElement(Ee.a,null,0===O.length&&r.a.createElement(ie.a,{variant:"h5",style:{margin:20}},"\u041d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"),O.map((function(e){return r.a.createElement(Oe.a,{key:e.login},r.a.createElement(ve.a,{component:"th"},e.firstName||"-"),r.a.createElement(ve.a,null,e.secondName||"-"),r.a.createElement(ve.a,null,e.email||"-"),r.a.createElement(ve.a,null,e.login||"-"),r.a.createElement(ve.a,{align:"right"},r.a.createElement(Z.a,{variant:"contained"},r.a.createElement(Et.a,null))))}))))))))}var kt=a(144),Nt=a.n(kt),Lt=a(274),St=Object(oe.a)({root:{width:250,margin:"10px 0px 10px 10px"}});function _t(e){e.projectName,St();var t=Object(Y.g)();return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"10px 0px 10px 10px"}},r.a.createElement(Lt.a,{color:"primary",variant:"extended",onClick:function(){return t.push("/project/add")}},r.a.createElement(Nt.a,null),"\u0414\u041e\u0431\u0430\u0432\u0438\u0442\u044c"))}function Dt(){var e=Object(l.c)((function(e){return e.companiesReducer})),t=e.isDataLoaded,a=e.isDataLoading,c=e.companies,i=Object(n.useState)(""),o=Object(Q.a)(i,2),s=o[0],u=o[1],m=Object(n.useState)(!1),p=Object(Q.a)(m,2),d=p[0],g=p[1];!function(){var e=Object(l.c)((function(e){return e.companiesReducer})).isDataLoaded,t=Object(l.b)();Object(n.useEffect)((function(){!e&&t(M())}),[])}();var b=Object(n.useState)(c),f=Object(Q.a)(b,2),E=f[0],v=f[1];Object(n.useEffect)((function(){v(c)}),[c]),console.log(E),console.log(c);return a?r.a.createElement("div",{style:{width:"100%",height:"80vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(Ve.a,{loading:!0,size:50,color:"rgb(65,83,175)"})):t?r.a.createElement("div",{style:{padding:10}},r.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},r.a.createElement(ee.a,{id:"standard-search",label:"\u041f\u043e\u0438\u0441\u043a \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0438\u043b\u0438",type:"search",style:{margin:10,width:"300px"},onReset:function(){return console.log("res")},onChange:function(e){return function(e){var t=e.toLowerCase();if(""===e)g(0),v(c);else{var a=c.filter((function(e){return!!e.name.toLowerCase().includes(t)||!!e.apps&&e.apps.some((function(e){return e.project_name.toLowerCase().includes(t)}))}));v(a),u(t),g(!0)}}(e.target.value)},InputProps:{startAdornment:r.a.createElement(we.a,{position:"start"},r.a.createElement(ke.a,null))}})),E.length>0?E.map((function(e,t){var a=d&&d&&e.name.toLowerCase().includes(s);return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",marginBottom:20}},r.a.createElement(ie.a,{variant:"h5",style:{backgroundColor:a?"wheat":"white"}},e.name),r.a.createElement(ie.a,{variant:"subtitle1"},"\u041f\u0440\u043e\u0435\u043a\u0442\u044b: "),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},e.apps?e.apps.map((function(t){return r.a.createElement(Ct,{projectName:t.project_name,projectId:t.id,userCount:t.AppUsers?t.AppUsers.length:0,searchText:s,isSearching:d,currentUsers:t.AppUsers||[],allUsers:e.users||[]})})):r.a.createElement(_t,null)),r.a.createElement(ot.a,{style:{marginTop:20}}))})):r.a.createElement(ie.a,null,"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043d\u0438\u043a\u0430\u0438\u043a\u0445 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 \u0438\u043b\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432")):null}var It=a(256),Tt=a(211),Rt=a(275),Pt=a(276),At=Object(oe.a)({root:{width:345,margin:"10px 0px 10px 10px"},media:{height:140}});function Bt(e){var t=e.companyName,a=void 0===t?"\u041b\u0438\u0437\u0430\u0440\u0434 \u041e\u041e\u041e":t,n=e.companyDescription,c=void 0===n?"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u041b\u0438\u0437\u0430\u0440\u0434 \u041e\u041e\u041e":n,l=e.imageUrl,i=void 0===l?"https://images.pexels.com/photos/927497/pexels-photo-927497.jpeg?cs=srgb&dl=green-reptile-927497.jpg&fm=jpg":l,o=At();return r.a.createElement(st.a,{className:o.root},r.a.createElement(Rt.a,null,r.a.createElement(Pt.a,{className:o.media,image:i,title:"Contemplative Reptile"}),r.a.createElement(ut.a,null,r.a.createElement(ie.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),r.a.createElement(ie.a,{variant:"body2",color:"textSecondary",component:"p"},c))))}var Wt=Object(oe.a)({root:{width:250,margin:"10px 0px 10px 10px"},media:{height:140}});function Ut(e){var t=e.projectName,a=void 0===t?"\u041d\u0430\u0446\u041f\u0440\u043e\u0435\u043a\u0442":t,n=e.companyName,c=void 0===n?"\u041b\u0438\u0437\u0430\u0440\u0434 \u041e\u041e\u041e":n,l=Wt();return r.a.createElement(st.a,{className:l.root},r.a.createElement(Rt.a,null,r.a.createElement(ut.a,null,r.a.createElement(ie.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),r.a.createElement(ie.a,{variant:"body2",color:"textSecondary",component:"p"},c))))}var Ft=function(){var e=Object(l.c)((function(e){return e.profileReducer})).isDataLoaded,t=Object(l.b)();Object(n.useEffect)((function(){!e&&t(function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(B.startLoading()),e.next=3,f.a.get("".concat(E,"/user"),{withCredentials:!0});case 3:n=e.sent,t(B.setProfileData(n.data));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}())}),[])};function zt(){Ft();var e=Mt(),t=Object(l.c)((function(e){return e.profileReducer})),a=t.isDataLoaded,n=t.isDataLoading,c=t.userData,i=t.companyData;return console.log(c),console.log(i),n?r.a.createElement("div",{style:{width:"100%",height:"80vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(Ve.a,{loading:!0,size:50,color:"rgb(65,83,175)"})):a?r.a.createElement("div",{style:{padding:10}},r.a.createElement("div",{style:{marginTop:10,display:"flex",flexDirection:"column"}},r.a.createElement(ht.a,{style:{fontSize:160}}),r.a.createElement(ie.a,{variant:"h5"}," \u041b\u0438\u0447\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 "),r.a.createElement(It.a,{component:"nav",className:e.list},r.a.createElement(Tt.a,null,r.a.createElement(ie.a,null,"\u041b\u043e\u0433\u0438\u043d: "),r.a.createElement(ie.a,{style:{fontWeight:"bold",marginLeft:5}},c.login)),r.a.createElement(ot.a,null),r.a.createElement(Tt.a,null,r.a.createElement(ie.a,null,"email: "),r.a.createElement(ie.a,{style:{fontWeight:"bold",marginLeft:5}},c.email)),r.a.createElement(ot.a,null),r.a.createElement(Tt.a,null,r.a.createElement(ie.a,null,"\u0418\u043c\u044f: "),r.a.createElement(ie.a,{style:{fontWeight:"bold",marginLeft:5}},c.firstName)),r.a.createElement(ot.a,null),r.a.createElement(Tt.a,null,r.a.createElement(ie.a,null,"\u0424\u0430\u043c\u0438\u043b\u044f: "),r.a.createElement(ie.a,{style:{fontWeight:"bold",marginLeft:5}},c.secondName)),c.isAdmin&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ot.a,null),r.a.createElement(Tt.a,null,r.a.createElement(ie.a,null,"\u0421\u0442\u0430\u0442\u0443\u0441: "),r.a.createElement(ie.a,{style:{fontWeight:"bold",marginLeft:5}},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0430\u0440\u0442\u043e\u0440")))),r.a.createElement(ie.a,{variant:"h5"},"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(Bt,{companyName:c.companyName,companyDescription:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 ".concat(c.companyName)})),r.a.createElement(ie.a,{variant:"h5",style:{marginTop:30}},"\u0421\u043f\u0438\u0441\u043e\u043a \u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},c.appNames.map((function(e){return r.a.createElement(Ut,{companyName:c.companyName,projectName:e,key:e})}))))):null}var Mt=Object(oe.a)((function(e){return{list:{width:"100%",maxWidth:560,backgroundColor:e.palette.background.paper,border:"1px solid ".concat(e.palette.divider),marginTop:10,marginBottom:30},nested:{paddingLeft:e.spacing(4)}}}));function Gt(){var e=Ht(),t=Object(l.c)((function(e){return e.appReducer})),a=t.firstName,c=t.lastName,i=Object(Y.g)(),o=Object(n.useState)(!1),s=Object(Q.a)(o,2),u=s[0],m=s[1],g=Object(n.useState)(a),b=Object(Q.a)(g,2),v=b[0],h=b[1],j=Object(n.useState)(c),O=Object(Q.a)(j,2),y=O[0],x=O[1],w=Object(n.useState)(""),C=Object(Q.a)(w,2),k=C[0],N=C[1],L=Object(n.useState)(!1),S=Object(Q.a)(L,2),_=S[0],D=S[1],I=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,f.a.put("".concat(E,"/user"),{firstName:v,secondName:y,password:k},{withCredentials:!0});case 4:e.sent,i.push("/profile"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),D(!0);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{padding:10}},r.a.createElement(ie.a,{variant:"h5"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u0440\u043e\u0444\u0438\u043b\u044f"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(ee.a,{className:e.textField,label:"\u0418\u043c\u044f",value:v,onChange:function(e){return h(e.target.value)},variant:"filled"}),r.a.createElement(ee.a,{className:e.textField,label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",variant:"filled",value:y,onChange:function(e){return x(e.target.value)}}),r.a.createElement(ee.a,{className:e.textField,label:"\u041f\u0430\u0440\u043e\u043b\u044c",variant:"filled",type:"password",value:k,onChange:function(e){return N(e.target.value)}})),_&&r.a.createElement(ie.a,{variant:"subheader"},"\u041e\u0448\u0438\u0431\u043a\u0430"),r.a.createElement("div",{className:e.submitButtonWrapper},r.a.createElement(Z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:u||""===v||""===y||""===k,onClick:I},u?r.a.createElement("span",null,"\xa0\xa0"):"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),u&&r.a.createElement(se.a,{size:24,className:e.submitButtonProgress})))}var Ht=Object(oe.a)((function(e){return{submitButtonWrapper:{margin:e.spacing(1),position:"relative",width:200},submitButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-8,marginLeft:-12},submit:{margin:e.spacing(3,0,2)},textField:{width:200,margin:"5px 0px"}}}));function qt(){var e=Jt();!function(){var e=Object(l.c)((function(e){return e.companiesReducer})).isDataLoaded,t=Object(l.b)();Object(n.useEffect)((function(){!e&&t(M())}),[])}();var t=Object(l.c)((function(e){return e.companiesReducer})),a=t.isDataLoading,c=t.isDataLoaded,i=t.companies,o=(Object(Y.g)(),Object(n.useState)(!1)),s=Object(Q.a)(o,2),u=s[0],m=s[1],g=Object(n.useState)(""),b=Object(Q.a)(g,2),v=b[0],h=b[1],j=Object(n.useState)(""),O=Object(Q.a)(j,2),y=O[0],x=O[1],w=Object(n.useState)(-1),C=Object(Q.a)(w,2),k=C[0],N=C[1],L=Object(n.useState)(""),S=Object(Q.a)(L,2),_=S[0],D=S[1],I=Object(n.useState)(""),T=Object(Q.a)(I,2),R=T[0],P=T[1],A=Object(n.useState)(""),B=Object(Q.a)(A,2),W=B[0],U=B[1],F=Object(n.useState)(!1),z=Object(Q.a)(F,2),G=z[0],H=z[1],q=Object(n.useState)(""),J=Object(Q.a)(q,2),K=J[0],V=J[1],X=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,f.a.post("".concat(E,"/user"),{firstName:v,secondName:y,companyID:k,companyName:i.find((function(e){return e.id===k})).name,email:_,login:R,password:W},{withCredentials:!0});case 4:t=e.sent,h(""),x(""),N(-1),D(""),P(""),U(""),V(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),H(!0);case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return a?r.a.createElement("div",{style:{width:"100%",height:"80vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(Ve.a,{loading:!0,size:50,color:"rgb(65,83,175)"})):c?r.a.createElement("div",{style:{padding:10}},r.a.createElement(ie.a,{variant:"h5"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(ee.a,{className:e.textField,label:"\u0418\u043c\u044f",variant:"filled",value:v,onChange:function(e){return h(e.target.value)}}),r.a.createElement(ee.a,{className:e.textField,label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",variant:"filled",value:y,onChange:function(e){return x(e.target.value)}}),r.a.createElement(jt.a,{style:{width:200},variant:"filled"},r.a.createElement(Ot.a,null,"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"),r.a.createElement(yt.a,{value:k,onChange:function(e){return N(e.target.value)}},i.map((function(e){return r.a.createElement(xt.a,{value:e.id},e.name)})))),r.a.createElement(ee.a,{className:e.textField,label:"Email",value:_,onChange:function(e){return D(e.target.value)},variant:"filled"}),r.a.createElement(ee.a,{className:e.textField,label:"\u041b\u043e\u0433\u0438\u043d",value:R,onChange:function(e){return P(e.target.value)},variant:"filled"}),r.a.createElement(ee.a,{className:e.textField,label:"\u041f\u0430\u0440\u043e\u043b\u044c",variant:"filled",type:"password",value:W,onChange:function(e){return U(e.target.value)}})),G&&r.a.createElement(ie.a,{variant:"subheader"},"\u041e\u0448\u0438\u0431\u043a\u0430"),""!==K&&r.a.createElement(ie.a,{variant:"h6",style:{margin:"10px 0px"}},K),r.a.createElement("div",{className:e.submitButtonWrapper},r.a.createElement(Z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:u||""===v||""===y||-1===k||""===_||""===R||""===W,onClick:X},u?r.a.createElement("span",null,"\xa0\xa0"):"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),u&&r.a.createElement(se.a,{size:24,className:e.submitButtonProgress}))):null}var Jt=Object(oe.a)((function(e){return{submitButtonWrapper:{margin:e.spacing(1),position:"relative",width:200},submitButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-8,marginLeft:-12},submit:{margin:e.spacing(3,0,2)},textField:{width:200,margin:"5px 0px"}}}));function Kt(){var e=Vt(),t=Object(n.useState)(!1),a=Object(Q.a)(t,2),c=a[0],i=a[1],o=Object(n.useState)(""),s=Object(Q.a)(o,2),u=s[0],m=s[1],g=Object(n.useState)(!1),b=Object(Q.a)(g,2),v=b[0],h=b[1],j=Object(n.useState)(""),O=Object(Q.a)(j,2),y=O[0],x=O[1],w=Object(l.b)(),C=function(){var e=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,e.next=4,f.a.post("".concat(E,"/company"),{name:u},{withCredentials:!0});case 4:x("\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f ".concat(u," \u0441\u043e\u0437\u0434\u0430\u043d\u0430")),w(M()),m(""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),h(!0);case 12:return e.prev=12,i(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{padding:10}},r.a.createElement(ie.a,{variant:"h5"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(ee.a,{className:e.textField,label:"\u0418\u043c\u044f \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",variant:"filled",value:u,onChange:function(e){return m(e.target.value)}})),v&&r.a.createElement(ie.a,{variant:"subheader"},"\u041e\u0448\u0438\u0431\u043a\u0430"),""!==y&&r.a.createElement(ie.a,{variant:"h6",style:{margin:"10px 0px"}},y),r.a.createElement("div",{className:e.submitButtonWrapper},r.a.createElement(Z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:c||""===u,onClick:C},c?r.a.createElement("span",null,"\xa0\xa0"):"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"),c&&r.a.createElement(se.a,{size:24,className:e.submitButtonProgress})))}var Vt=Object(oe.a)((function(e){return{submitButtonWrapper:{margin:e.spacing(1),position:"relative",width:200},submitButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-8,marginLeft:-12},submit:{margin:e.spacing(3,0,2)},textField:{width:200,margin:"5px 0px"}}}));function Yt(){var e=Qt();!function(){var e=Object(l.c)((function(e){return e.companiesReducer})).isDataLoaded,t=Object(l.b)();Object(n.useEffect)((function(){!e&&t(M())}),[])}();var t=Object(l.c)((function(e){return e.companiesReducer})),a=t.isDataLoading,c=t.isDataLoaded,i=t.companies,o=(Object(Y.g)(),Object(n.useState)(!1)),s=Object(Q.a)(o,2),u=s[0],m=s[1],g=Object(n.useState)(-1),b=Object(Q.a)(g,2),v=b[0],h=b[1],j=Object(n.useState)(""),O=Object(Q.a)(j,2),y=O[0],x=O[1],w=Object(n.useState)(!1),C=Object(Q.a)(w,2),k=C[0],N=C[1],L=Object(n.useState)(""),S=Object(Q.a)(L,2),_=S[0],D=S[1],I=Object(l.b)(),T=function(){var e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,f.a.post("".concat(E,"/project"),{project_name:y,company_id:v},{withCredentials:!0});case 4:t=e.sent,h(-1),x(""),I(M()),D(t.data),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),N(!0);case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(){return e.apply(this,arguments)}}();return a?r.a.createElement("div",{style:{width:"100%",height:"80vh",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(Ve.a,{loading:!0,size:50,color:"rgb(65,83,175)"})):c?r.a.createElement("div",{style:{padding:10}},r.a.createElement(ie.a,{variant:"h5"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"),r.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},r.a.createElement(jt.a,{style:{width:200},variant:"filled"},r.a.createElement(Ot.a,null,"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u044f"),r.a.createElement(yt.a,{value:v,onChange:function(e){return h(e.target.value)}},i.map((function(e){return r.a.createElement(xt.a,{value:e.id},e.name)})))),r.a.createElement(ee.a,{className:e.textField,label:"\u0418\u043c\u044f",variant:"filled",value:y,onChange:function(e){return x(e.target.value)}})),k&&r.a.createElement(ie.a,{variant:"subheader"},"\u041e\u0448\u0438\u0431\u043a\u0430"),""!==_&&r.a.createElement(ie.a,{variant:"h6",style:{margin:"10px 0px"}},_),r.a.createElement("div",{className:e.submitButtonWrapper},r.a.createElement(Z.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:u||""===y||-1===v,onClick:T},u?r.a.createElement("span",null,"\xa0\xa0"):"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u041f\u0440\u043e\u0435\u043a\u0442"),u&&r.a.createElement(se.a,{size:24,className:e.submitButtonProgress}))):null}var Qt=Object(oe.a)((function(e){return{submitButtonWrapper:{margin:e.spacing(1),position:"relative",width:200},submitButtonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-8,marginLeft:-12},submit:{margin:e.spacing(3,0,2)},textField:{width:200,margin:"5px 0px"}}})),Xt=a(284),Zt=a(277),$t=a(278),ea=a(146),ta=a.n(ea),aa=a(145),na=a.n(aa),ra=a(147),ca=a.n(ra),la=a(150),ia=a.n(la),oa=a(148),sa=a.n(oa),ua=a(149),ma=a.n(ua);function pa(){var e=Object(Y.g)(),t=Object(l.c)((function(e){return e.appReducer})).isAdmin,a=Object(l.b)();return r.a.createElement(Xt.a,{variant:"permanent",style:{top:"auto"}},r.a.createElement("div",{style:{width:"220px",marginTop:"64px",display:"flex",flexDirection:"column",justifyContent:"flex-start",height:"100%"}},r.a.createElement(It.a,null,r.a.createElement(Tt.a,{button:!0,key:"\u0422\u0430\u0431\u043b\u0438\u0446\u044b",onClick:function(){return e.push("/tables")}},r.a.createElement(Zt.a,null,r.a.createElement(na.a,null)),r.a.createElement($t.a,{primary:"\u0422\u0430\u0431\u043b\u0438\u0446\u044b"})),r.a.createElement(Tt.a,{button:!0,key:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0438 \u041f\u0440\u043e\u0435\u043a\u0442\u044b",onClick:function(){return e.push("/companies")}},r.a.createElement(Zt.a,null,r.a.createElement(ta.a,null)),r.a.createElement($t.a,{primary:"\u041a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \u0438 \u041f\u0440\u043e\u0435\u043a\u0442\u044b"}))),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ot.a,null),r.a.createElement(It.a,null,r.a.createElement(Tt.a,{button:!0,key:"\u0422\u0430\u0431\u043b\u0438\u0446\u044b",onClick:function(){return e.push("/user/add")}},r.a.createElement(Zt.a,null,r.a.createElement(ca.a,null)),r.a.createElement($t.a,{primary:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}))),r.a.createElement(It.a,null,r.a.createElement(Tt.a,{button:!0,key:"\u0422\u0430\u0431\u043b\u0438\u0446\u044b",onClick:function(){return e.push("/company/add")}},r.a.createElement(Zt.a,null,r.a.createElement(sa.a,null)),r.a.createElement($t.a,{primary:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044e"}))),r.a.createElement(It.a,null,r.a.createElement(Tt.a,{button:!0,key:"\u0422\u0430\u0431\u043b\u0438\u0446\u044b",onClick:function(){return e.push("/project/add")}},r.a.createElement(Zt.a,null,r.a.createElement(ma.a,null)),r.a.createElement($t.a,{primary:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0435\u043a\u0442"})))),r.a.createElement(ot.a,{style:{marginTop:"auto"}}),r.a.createElement(It.a,null,r.a.createElement(Tt.a,{button:!0,key:"\u0412\u044b\u0439\u0442\u0438",onClick:function(){return a(O())}},r.a.createElement(Zt.a,null,r.a.createElement(ia.a,null)),r.a.createElement($t.a,{primary:"\u0412\u044b\u0439\u0442\u044b"})))))}var da=a(279),ga=a(268),ba=a(151),fa=a.n(ba),Ea=a(152),va=a.n(Ea),ha=a(154),ja=Object(oe.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},companyLogo:{marginRight:e.spacing(2)},userNameTypography:{marginRight:e.spacing(1)},title:{flexGrow:1}}}));function Oa(){var e=ja(),t=r.a.useState(null),a=Object(Q.a)(t,2),n=a[0],c=a[1],i=Boolean(n),o=Object(l.b)(),s=Object(l.c)((function(e){return e.appReducer})),u=s.firstName,m=s.lastName,p=s.isAdmin,d=Object(Y.g)(),g=function(){c(null)};return r.a.createElement(da.a,{position:"fixed",className:e.appBar},r.a.createElement(ga.a,null,r.a.createElement(fa.a,{className:e.companyLogo}),r.a.createElement(ie.a,{variant:"h5",className:e.title},"FORTCOM"),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},p&&r.a.createElement(ie.a,{variant:"subtitle2",className:e.userNameTypography},"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"),r.a.createElement(ie.a,{variant:"subtitle2",className:e.userNameTypography},u," ",m),r.a.createElement(_e.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},color:"inherit"},r.a.createElement(va.a,null)),r.a.createElement(ha.a,{id:"menu-appbar",anchorEl:n,open:i,onClose:g},r.a.createElement(xt.a,{onClick:function(){g(),d.push("/profile")}},"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"),r.a.createElement(ot.a,null),r.a.createElement(xt.a,{onClick:function(){g(),d.push("/profile/edit")}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(ot.a,null),r.a.createElement(xt.a,{onClick:function(){return o(O())}},"\u0412\u044b\u0439\u0442\u0438")))))}var ya=function(){var e=Object(l.b)();Object(n.useEffect)((function(){e(function(){var e=Object(d.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("".concat(E,"/auth"),{withCredentials:!0});case 3:200===(n=e.sent).status&&(r=n.data,t(v.setUserData({firstName:r.first_name,lastName:r.second_name,isAdmin:r.is_admin}))),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,t(v.initAuth()),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})));return function(t,a){return e.apply(this,arguments)}}())}),[])};function xa(){var e=Object(l.c)((function(e){return e.appReducer})),t=e.isLoggedIn,a=e.initAuth;return ya(),a?r.a.createElement(V.a,null,r.a.createElement("div",null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(pa,null),r.a.createElement(Oa,null)),r.a.createElement("div",{style:t?{marginLeft:"220px",marginTop:"64px"}:{}},r.a.createElement(Y.d,null,r.a.createElement(Y.b,{exact:!0,path:"/login"},r.a.createElement(de,null)),r.a.createElement(wa,{exact:!0,path:"/"},r.a.createElement(Y.a,{to:{pathname:"/tables"}})),r.a.createElement(wa,{exact:!0,path:"/tables"},r.a.createElement(at,null)),r.a.createElement(wa,{exact:!0,path:"/companies"},r.a.createElement(Dt,null)),r.a.createElement(wa,{exact:!0,path:"/profile"},r.a.createElement(zt,null)),r.a.createElement(wa,{exact:!0,path:"/profile/edit"},r.a.createElement(Gt,null)),r.a.createElement(wa,{exact:!0,path:"/user/add"},r.a.createElement(qt,null)),r.a.createElement(wa,{exact:!0,path:"/company/add"},r.a.createElement(Kt,null)),r.a.createElement(wa,{exact:!0,path:"/project/add"},r.a.createElement(Yt,null)),r.a.createElement(wa,{path:"*"},r.a.createElement("span",null,"no such page")))))):null}var wa=function(e){var t=e.children,a=Object(K.a)(e,["children"]),n=Object(l.c)((function(e){return e.appReducer})).isLoggedIn;return r.a.createElement(Y.b,Object.assign({},a,{render:function(e){e.location;return n?t:r.a.createElement(Y.a,{to:{pathname:"/login"}})}}))},Ca=a(153),ka=Object(i.d)(J,Object(i.a)(Ca.a));Object(c.render)(r.a.createElement(l.a,{store:ka},r.a.createElement(xa,null)),document.getElementById("root"))}},[[174,1,2]]]);
//# sourceMappingURL=main.89947dfb.chunk.js.map